{
    "customCA" : true,
    "configureAllServices" : "true",
    "sshPort" : 22,
    {% if free_ipa %}"trustedCaCerts" : "/etc/ipa/ca.crt",{% endif %}
    "userName" : "root",
    "privateKey": "{{ node_key_one_line }}",

    "interpretAsFilenames" : true,
    "cmHostCert" : "/root/certs/{{ groups['cloudera_manager'][0] }}.crt",
    "cmHostKey" : "/root/certs/{{ groups['cloudera_manager'][0] }}.key",
    "caCert" : "/root/certs/rootca.crt",
    "keystorePasswd" : "/root/certs/key.pwd",
    "truststorePasswd" : "/root/certs/truststore.pwd",
    "hostCerts" : [ 
        {% for machine in groups['all'] %}
        {
            "hostname" : "{{ machine }}",
            "certificate" : "/root/certs/{{ machine }}.crt",
            "key" : "/root/certs/{{ machine }}.key"
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ]
} 
    